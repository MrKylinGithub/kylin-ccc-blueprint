# 🖐️ 蓝图编辑器触控功能

## 📱 双指手势控制

蓝图编辑器现在支持触屏设备的双指手势操作，提供流畅的画布交互体验。

### ✨ 支持的手势

#### 🖱️ 鼠标拖拽（平移）
- **操作方式**: 鼠标按住空白画布区域拖动
- **功能**: 平移整个蓝图画布视图
- **视觉提示**: 抓手光标 (grab/grabbing)
- **使用场景**: 查看大型蓝图的不同区域

#### 🔍 双指缩放
- **触屏设备**: 两个手指按住画布，然后拉开或收缩
- **Mac触控板**: 
  - `Cmd + 双指滑动` 进行缩放
  - `Ctrl + 双指滑动` 进行缩放
- **鼠标滚轮**: `Cmd/Ctrl + 滚轮` 进行缩放
- **功能**: 缩放画布视图
- **缩放范围**: 0.5x - 3.0x
- **缩放中心**: 以鼠标/手指位置为中心缩放
- **使用场景**: 
  - 放大查看节点细节
  - 缩小查看整体蓝图结构

#### 🎯 双击重置
- **操作方式**: 双击空白画布区域
- **功能**: 重置画布到原始位置和缩放比例
- **使用场景**: 快速回到默认视图

### 🎮 交互特性

#### 实时响应
- ✅ 平滑的鼠标拖拽跟踪
- ✅ 实时更新画布位置和缩放
- ✅ 流畅的过渡动画

#### 智能交互
- ✅ 鼠标拖拽画布与节点操作互不干扰
- ✅ 双指缩放与单指操作分离
- ✅ 视觉提示：抓手光标显示拖拽状态
- ✅ 全局鼠标监听，防止拖拽卡死

#### 边界限制
- ✅ 缩放比例限制在0.5x-3.0x合理范围内
- ✅ 以指针位置为中心的精确缩放
- ✅ 防止过度缩放导致的不可用状态

### 🖥️ 设备兼容性

#### 触屏设备
- ✅ iPad / 平板电脑
- ✅ 触屏笔记本
- ✅ 触屏显示器
- ✅ 手机浏览器（如果屏幕足够大）

#### Mac触控板
- ✅ MacBook Pro/Air 触控板
- ✅ Magic Trackpad
- ✅ 支持原生双指手势
- ✅ 与系统手势完美兼容

#### 传统设备
- ✅ 鼠标和键盘操作保持不变
- ✅ 鼠标滚轮缩放和平移
- ✅ 双击重置功能在所有设备上可用

### 💡 使用技巧

#### 🖱️ 桌面用户 (鼠标 + 键盘)
1. **平移画布**: 鼠标按住空白区域拖动
2. **精确缩放**: `Cmd/Ctrl + 滚轮` 以鼠标位置为中心缩放
3. **快速重置**: 双击空白区域回到默认视图

#### 🍎 Mac触控板用户
1. **平移画布**: 鼠标按住空白区域拖动
2. **精确缩放**: `Cmd + 双指滑动` 以手指位置为中心缩放
3. **快速重置**: 双击空白区域回到默认视图

#### 📱 触屏用户
1. **平移画布**: 鼠标按住空白区域拖动 (如果支持)
2. **细节查看**: 双指缩放查看节点的详细信息和连接
3. **整体预览**: 双指缩小查看整个蓝图的结构和布局
4. **快速重置**: 双击空白区域回到默认视图

### 🚀 技术实现

#### 事件处理
- `touchstart`: 检测双指触摸开始
- `touchmove`: 实时计算平移和缩放
- `touchend`: 处理手势结束

#### 变换计算
- 双指中心点计算平移距离
- 双指距离变化计算缩放比例
- CSS Transform实现硬件加速

#### 性能优化
- 使用`requestAnimationFrame`确保流畅性
- GPU加速的CSS变换
- 事件节流防止过度渲染

---

*享受流畅的触控蓝图编辑体验！* 🎨✨ 